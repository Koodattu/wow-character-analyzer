# ──────────────────────────────────────────────────────────
# Environment Variables — WoW Character Analyzer
# Copy to .env and fill in production values
# ──────────────────────────────────────────────────────────

# ── Database ──────────────────────────────────────────────
POSTGRES_USER=wow_analyzer
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=wow_analyzer

# Used by backend to connect to PostgreSQL
# Docker: db:5432 (service name) | Local dev: localhost:5432
DATABASE_URL=postgresql://wow_analyzer:change_me_in_production@db:5432/wow_analyzer

# ── Backend ───────────────────────────────────────────────
BACKEND_PORT=3001
CORS_ORIGIN=http://localhost:3000

# ── Frontend ──────────────────────────────────────────────
FRONTEND_PORT=3000

# Server-side API URL (runtime) — used by Server Components inside Docker
# Points to backend via Docker internal DNS
INTERNAL_API_URL=http://backend:3001

# Client-side API URL (build-time) — baked into browser JS bundle
# Must be the publicly reachable backend URL
NEXT_PUBLIC_API_URL=http://localhost:3001

# ── Production: Nginx + SSL (used by docker-compose.prod.yml) ─
# Your domain name (must have DNS pointing to the server)
DOMAIN=example.com

# Let's Encrypt registration email (required for cert issuance)
CERTBOT_EMAIL=you@example.com

# Set to 1 to use Let's Encrypt staging (for testing, avoids rate limits)
CERTBOT_STAGING=0

# When using production compose, you may want to merge files:
# COMPOSE_FILE=docker-compose.yml:docker-compose.prod.yml
